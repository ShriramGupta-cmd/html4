
<html lang="en">
<head>
  <title>Deadlock in DBMS </title>
  <style>
    body {font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f8f9fa; color: #222;}
    header {background: #4a90e2; color: white; padding: 20px; text-align: center;}
    main {max-width: 800px; margin: 20px auto; padding: 20px; background: white; border-radius: 6px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);}
    h1, h2 {color: #333;}
    p {line-height: 1.6;}
    ul {margin-left: 20px;}
    footer {text-align: center; padding: 10px; background: #eee; margin-top: 20px; font-size: 14px;}
  </style>
</head>
<body>
  <header>
    <h1>Deadlock in Database Management Systems</h1>
  </header>
  <main>
    <h2>What is Deadlock?</h2>
    <p>In DBMS, a <strong>A deadlock</strong> occurs in a multi-user database environment when two or more transactions block each other indefinitely by each holding a resource the other needs. This results in a cycle of dependencies (circular wait) where no transaction can proceed.</p>
    <p>Imagine:</p>
 <img src="https://media.geeksforgeeks.org/wp-content/cdn-uploads/deadlock.png"width="600" height="400">
<h2>Example</h2>
    <ul>
      <li>T1 locks Resource "Student" and needs Resource "Grade"</li>
      <li>
T2 locks Resource "Grade" and needs Resource "Student"</li>
      <li>T1 waits for T2, T2 waits for T1, hence resulting in a deadlock</li>
    </ul>

    <h2>Conditions for Deadlock</h2>
    <ul>
      <li><strong>Mutual Exclusion:</strong> Only one transaction can use a resource at a time.</li>
      <li><strong>Hold and Wait:</strong> A transaction holds one resource and waits for another.</li>
      <li><strong>No Preemption:</strong> Resources cannot be forcibly taken away.</li>
      <li><strong>Circular Wait:</strong> A chain of transactions each waiting for the next.</li>
    </ul>

    <h2>How to Handle Deadlock</h2>
    <ul>
      <li><strong>Prevention:</strong> Follow lock ordering or avoid hold-and-wait.</li>
      <li><strong>Detection:</strong> Use a wait-for graph to check cycles.</li>
      <li><strong>Resolution:</strong> Abort one transaction (victim) to break the deadlock.</li>
    </ul>

    <h2>Simple SQL Example</h2>
    <pre>
-- Session 1
BEGIN;
UPDATE accounts SET balance = balance - 100 WHERE id = 1;
UPDATE accounts SET balance = balance + 100 WHERE id = 2;

-- Session 2
BEGIN;
UPDATE accounts SET balance = balance - 50 WHERE id = 2;
UPDATE accounts SET balance = balance + 50 WHERE id = 1;
    </pre>
    <p>Here, both sessions wait for each other, causing deadlock.</p>
  </main>
  <footer>
    <p>Â© 2025 Simple DBMS Blog</p>
  </footer>
</body>
</html>
